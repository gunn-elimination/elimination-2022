(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7237:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(9729)}])},4296:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}))}function o(e){return(0,r.jsxs)("div",{className:"rounded-md flex flex-row text-red-500 bg-red-500/20 py-2 px-3",children:[(0,r.jsx)(s,{className:"my-auto mr-2 shrink-0 grow h-[20px] w-[20px]"}),(0,r.jsx)("span",{className:"my-auto",children:e.message})]})}},2548:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(0,r.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},e,{className:"px-3 text-sm py-2 caret-rose-600 focus:outline-none rounded-md dark:bg-white/10 dark:placeholder:text-white/40 placeholder:text-gray-800/40 bg-white/40  ".concat(e.className)}))}},9729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(4051),a=n.n(r),s=n(5893),o=n(1163),c=n(7294),u=n(4296),l=n(2548),i=n(9624);function d(e,t,n,r,a,s,o){try{var c=e[s](o),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function f(){var e,t=(0,o.useRouter)(),n=(0,c.useContext)(i.S),r=["email","password"],f=(0,c.useState)(""),p=f[0],m=f[1],x=(0,c.useState)(""),h=x[0],b=x[1],g=(0,c.useState)({valid:!1,message:""}),v=g[0],w=g[1],y=(0,c.useCallback)((e=a().mark((function e(){var n,s,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[p,h],s=0;case 2:if(!(s<2)){e.next=8;break}if(n[s]){e.next=5;break}return e.abrupt("return",w({valid:!0,message:"Please enter your ".concat(r[s],".")}));case 5:s++,e.next=2;break;case 8:return w({valid:!1,message:""}),e.next=11,fetch("https://api.gunnelimination.com/login",{body:JSON.stringify({email:p,password:h}),headers:new Headers({"content-type":"application/json"}),method:"post"});case 11:return o=e.sent,e.next=14,o.text();case 14:"User not found"===(c=e.sent)?w({valid:!0,message:"It looks like you do not have an account. Have you verified your email?"}):200===o.status&&(localStorage.setItem("token",c),t.push("/app"));case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){d(s,r,a,o,c,"next",e)}function c(e){d(s,r,a,o,c,"throw",e)}o(void 0)}))}),[p,h]);return(0,c.useEffect)((function(){n&&t.push("/app")}),[n]),(0,s.jsx)("div",{className:"dark:bg-gray-500 w-full h-full",children:(0,s.jsx)("div",{className:"w-full bg-gradient-to-br bg-brand flex px-5 h-full",children:(0,s.jsx)("div",{className:" bg-white/70 dark:bg-black/70 my-auto grow max-w-sm mx-auto rounded-xl",children:(0,s.jsxs)("div",{className:" flex gap-3 flex-col rounded-xl py-6 px-5 dark:bg-white/10 bg-gray-500/10",children:[v.valid&&(0,s.jsx)(u.Z,{message:v.message}),(0,s.jsx)(l.Z,{className:"w-full",type:"email",placeholder:"Email",onInput:function(e){m(e.target.value)}}),(0,s.jsx)(l.Z,{className:"w-full",placeholder:"Password",onInput:function(e){b(e.target.value)},type:"password"}),(0,s.jsx)("button",{onClick:y,className:"btn-primary mt-1",children:"Log In"}),(0,s.jsxs)("span",{className:"dark:text-white/60 text-black/60 italic text-sm",children:["Don't have an account? ",(0,s.jsx)("a",{className:"link-brand",href:"/signup",children:"Sign up."})]})]})})})})}}},function(e){e.O(0,[774,888,179],(function(){return t=7237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);