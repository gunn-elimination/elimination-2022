(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{6415:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(4347)}])},4296:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(5893);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(0,a.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}))}function l(e){return(0,a.jsxs)("div",{className:"rounded-md flex flex-row text-red-500 bg-red-500/20 py-2 px-3",children:[(0,a.jsx)(s,{className:"my-auto mr-2 shrink-0 grow h-[20px] w-[20px]"}),(0,a.jsx)("span",{className:"my-auto",children:e.message})]})}},2548:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(5893);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(0,a.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},e,{className:"px-3 text-sm py-2 caret-rose-600 focus:outline-none rounded-md dark:bg-white/10 dark:placeholder:text-white/40 placeholder:text-gray-800/40 bg-white/40  ".concat(e.className)}))}},4347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(4051),r=n.n(a),s=n(5893),l=n(1163),o=n(7294),i=n(4296),c=n(2548),u=n(9624);function d(e,t,n,a,r,s,l){try{var o=e[s](l),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(a,r)}function f(){var e=(0,l.useRouter)(),t=(0,o.useContext)(u.S),n=["first name","last name","email","password"],a=(0,o.useState)(""),f=a[0],p=a[1],m=(0,o.useState)(""),x=m[0],h=m[1],g=(0,o.useState)(""),v=g[0],w=g[1],b=(0,o.useState)(""),y=b[0],j=b[1],N=(0,o.useState)(""),k=N[0],O=N[1],S=(0,o.useState)(""),P=S[0],_=S[1];(0,o.useEffect)((function(){t&&e.push("/app")}),[t]);var E,C=(0,o.useState)({valid:!1,message:""}),Z=C[0],I=C[1],z=(0,o.useState)(!1),L=z[0],M=z[1],R=(0,o.useCallback)((E=r().mark((function e(){var t,a,s,l,o,i,c,u,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v===y){e.next=4;break}return e.abrupt("return",I({valid:!0,message:"Passwords do not match."}));case 4:t=[k,P,f,v],a=0;case 6:if(!(a<4)){e.next=12;break}if(t[a]){e.next=9;break}return e.abrupt("return",I({valid:!0,message:"Please enter your ".concat(n[a],".")}));case 9:a++,e.next=6;break;case 12:return I({valid:!1,message:""}),e.next=15,fetch("https://api.gunnelimination.com/signup",{body:JSON.stringify({email:f,password:v,firstName:k,lastName:P,createdBy:"Standalone",redirectURL:"https://gunnelimination.com/app"}),headers:new Headers({"content-type":"application/json"}),method:"post"});case 15:return s=e.sent,e.next=18,s.text();case 18:if(l=e.sent,console.log(s.status,l),200!==s.status){e.next=43;break}for(h(f),o=!0,i=!1,c=void 0,e.prev=23,u=[p,O,_,w,j][Symbol.iterator]();!(o=(d=u.next()).done);o=!0)(0,d.value)("");e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),i=!0,c=e.t0;case 31:e.prev=31,e.prev=32,o||null==u.return||u.return();case 34:if(e.prev=34,!i){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(31);case 39:M(!0),localStorage.setItem("token",l),e.next=44;break;case 43:409===s.status&&"Email already exists in unverifiedUsers"===l&&I({valid:!0,message:"You have already signed up. Finish creating your account by verifying your email!"});case 44:case"end":return e.stop()}}),e,null,[[23,27,31,39],[32,,34,38]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var r=E.apply(e,t);function s(e){d(r,n,a,s,l,"next",e)}function l(e){d(r,n,a,s,l,"throw",e)}s(void 0)}))}),[f,v,y,k,P]);return(0,s.jsx)("div",{className:"dark:bg-gray-500 w-full h-full",children:(0,s.jsx)("div",{className:"w-full bg-gradient-to-br bg-brand flex px-5 h-full",children:(0,s.jsx)("div",{className:" bg-white/70 dark:bg-black/70 my-auto grow md:max-w-sm max-w-xs mx-auto rounded-xl",children:(0,s.jsxs)("div",{className:" flex gap-3 flex-col rounded-xl py-6 px-5 dark:bg-white/10 bg-gray-500/10",children:[Z.valid&&(0,s.jsx)(i.Z,{message:Z.message}),L&&(0,s.jsxs)("div",{className:"rounded-md flex flex-row text-green-500 bg-green-500/20 py-2 px-3",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-auto mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,s.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"A verification email has been sent to ",x,"."]}),(0,s.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,s.jsx)(c.Z,{className:"w-full",placeholder:"First Name",onInput:function(e){O(e.target.value)}}),(0,s.jsx)(c.Z,{className:"w-full",placeholder:"Last Name",onInput:function(e){_(e.target.value)}})]}),(0,s.jsx)(c.Z,{className:"w-full",type:"email",placeholder:"Email",onInput:function(e){p(e.target.value)}}),(0,s.jsx)(c.Z,{className:"w-full",placeholder:"Password",onInput:function(e){w(e.target.value)},type:"password"}),(0,s.jsx)(c.Z,{className:"w-full",placeholder:"Confirm Password",onInput:function(e){j(e.target.value)},type:"password"}),(0,s.jsx)("button",{onClick:R,className:"btn-primary mt-1",children:"Sign Up"}),(0,s.jsxs)("span",{className:"dark:text-white/60 text-black/60 italic text-sm",children:["Already have an account?"," ",(0,s.jsx)("a",{className:"link-brand",href:"/login",children:"Login."})]})]})})})})}}},function(e){e.O(0,[774,888,179],(function(){return t=6415,e(e.s=t);var t}));var t=e.O();_N_E=t}]);