(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{8470:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return t(1950)}])},4262:function(e,n,t){"use strict";t.d(n,{h:function(){return r}});var r="https://api.gunnelimination.com"},1950:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(4051),a=t.n(r),c=t(5893),o=t(7294),s=t(4262),i=t(9624);function u(e,n,t,r,a,c,o){try{var s=e[c](o),i=s.value}catch(u){return void t(u)}s.done?n(i):Promise.resolve(i).then(r,a)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function o(e){u(c,r,a,o,s,"next",e)}function s(e){u(c,r,a,o,s,"throw",e)}o(void 0)}))}}function f(){(0,o.useContext)(i.S);var e=(0,o.useState)([]),n=e[0],t=e[1];(0,o.useEffect)((function(){l(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.h,"/games"),{headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))})});case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:r=e.sent,t(r),e.next=16;break;case 10:return e.t0=console,e.t1=n.status,e.next=14,n.text();case 14:e.t2=e.sent,e.t0.log.call(e.t0,e.t1,e.t2);case 16:case"end":return e.stop()}}),e)})))()}),[]);var r=(0,o.useCallback)(function(){var e=l(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.h,"/game/").concat(n,"/join"),{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))})});case 2:e.sent.status;case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]);return(0,c.jsxs)("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-900 overflow-auto flex flex-col px-10 py-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Games"}),(0,c.jsx)("div",{className:"flex flex-col",children:n.map((function(e){return(0,c.jsxs)("div",{className:"py-2 px-3 rounded-md shadow dark:bg-gray-200/20 bg-white ",children:[(0,c.jsx)("span",{className:"text-lg font-bold",children:e.name}),(0,c.jsx)("p",{className:"whitespace-pre-wrap",children:e.description}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{onClick:function(){return r(e.id)},className:"btn-primary !py-2 !px-3 float-right",children:"Join"})})]},e.id)}))})]})}}},function(e){e.O(0,[774,888,179],(function(){return n=8470,e(e.s=n);var n}));var n=e.O();_N_E=n}]);