(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{6415:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(4347)}])},4296:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(5893);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}))}function l(e){return(0,n.jsxs)("div",{className:"rounded-md flex flex-row text-red-500 bg-red-500/20 py-2 px-3",children:[(0,n.jsx)(s,{className:"my-auto mr-2 shrink-0 grow h-[20px] w-[20px]"}),(0,n.jsx)("span",{className:"my-auto",children:e.message})]})}},2548:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(5893);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){return(0,n.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},e,{className:"px-3 text-sm py-2 caret-rose-600 focus:outline-none rounded-md dark:bg-white/10 dark:placeholder:text-white/40 placeholder:text-gray-800/40 bg-white/40  ".concat(e.className)}))}},4347:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var n=a(4051),r=a.n(n),s=a(5893),l=a(1163),o=a(7294),i=a(4296),u=a(2548),c=a(9624);function d(e,t,a,n,r,s,l){try{var o=e[s](l),i=o.value}catch(u){return void a(u)}o.done?t(i):Promise.resolve(i).then(n,r)}function f(){var e=(0,l.useRouter)(),t=(0,o.useContext)(c.S),a=["first name","last name","email","password"],n=(0,o.useState)(""),f=n[0],m=n[1],p=(0,o.useState)(""),x=p[0],h=p[1],g=(0,o.useState)(""),v=g[0],w=g[1],b=(0,o.useState)(""),y=b[0],j=b[1],k=(0,o.useState)(""),N=k[0],S=k[1],O=(0,o.useState)(""),P=O[0],E=O[1];(0,o.useEffect)((function(){t&&e.push("/app")}),[t]);var _,C=(0,o.useState)({valid:!1,message:""}),Z=C[0],I=C[1],z=(0,o.useState)(!1),A=z[0],D=z[1],U=(0,o.useCallback)((_=r().mark((function e(){var t,n,s,l,o,i,u,c,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v===y){e.next=4;break}return e.abrupt("return",I({valid:!0,message:"Passwords do not match."}));case 4:t=[N,P,f,v],n=0;case 6:if(!(n<4)){e.next=12;break}if(t[n]){e.next=9;break}return e.abrupt("return",I({valid:!0,message:"Please enter your ".concat(a[n],".")}));case 9:n++,e.next=6;break;case 12:return I({valid:!1,message:""}),e.next=15,fetch("https://api.gunnelimination.com/signup",{body:JSON.stringify({email:f,password:v,firstName:N,lastName:P,createdBy:"Standalone",redirectURL:"https://gunnelimination.com/app"}),headers:new Headers({"content-type":"application/json"}),method:"post"});case 15:return s=e.sent,e.next=18,s.text();case 18:if(l=e.sent,console.log(s.status,l),200!==s.status){e.next=43;break}for(h(f),o=!0,i=!1,u=void 0,e.prev=23,c=[m,S,E,w,j][Symbol.iterator]();!(o=(d=c.next()).done);o=!0)(0,d.value)("");e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),i=!0,u=e.t0;case 31:e.prev=31,e.prev=32,o||null==c.return||c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw u;case 37:return e.finish(34);case 38:return e.finish(31);case 39:D(!0),localStorage.setItem("token",l),e.next=44;break;case 43:409===s.status&&"Email already exists in unverifiedUsers"===l?I({valid:!0,message:"You have already signed up. Finish creating your account by verifying your email!"}):"Email not whitelisted"===l?I({valid:!0,message:"Please use your PAUSD email."}):"Email already exists"===l&&I({valid:!0,message:"It looks like you already have an account. Did you meant to login?"});case 44:case"end":return e.stop()}}),e,null,[[23,27,31,39],[32,,34,38]])})),function(){var e=this,t=arguments;return new Promise((function(a,n){var r=_.apply(e,t);function s(e){d(r,a,n,s,l,"next",e)}function l(e){d(r,a,n,s,l,"throw",e)}s(void 0)}))}),[f,v,y,N,P]);return(0,s.jsx)("div",{className:"dark:bg-gray-500 w-full h-full",children:(0,s.jsx)("div",{className:"w-full bg-gradient-to-br bg-brand flex px-5 h-full",children:(0,s.jsx)("div",{className:" bg-white/70 dark:bg-black/70 my-auto grow md:max-w-sm max-w-xs mx-auto rounded-xl",children:(0,s.jsxs)("div",{className:" flex gap-3 flex-col rounded-xl py-6 px-5 dark:bg-white/10 bg-gray-500/10",children:[Z.valid&&(0,s.jsx)(i.Z,{message:Z.message}),A&&(0,s.jsxs)("div",{className:"rounded-md flex flex-row text-green-500 bg-green-500/20 py-2 px-3",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-auto mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,s.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"A verification email has been sent to ",x,"."]}),(0,s.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,s.jsx)(u.Z,{className:"w-full",placeholder:"First Name",onInput:function(e){S(e.target.value)}}),(0,s.jsx)(u.Z,{className:"w-full",placeholder:"Last Name",onInput:function(e){E(e.target.value)}})]}),(0,s.jsx)(u.Z,{className:"w-full",type:"email",placeholder:"PAUSD Email",onInput:function(e){m(e.target.value)}}),(0,s.jsx)(u.Z,{className:"w-full",placeholder:"Password",onInput:function(e){w(e.target.value)},type:"password"}),(0,s.jsx)(u.Z,{className:"w-full",placeholder:"Confirm Password",onInput:function(e){j(e.target.value)},type:"password"}),(0,s.jsx)("button",{onClick:U,className:"btn-primary mt-1",children:"Sign Up"}),(0,s.jsxs)("span",{className:"dark:text-white/60 text-black/60 italic text-sm",children:["Already have an account?"," ",(0,s.jsx)("a",{className:"link-brand",href:"/login",children:"Login."})]})]})})})})}}},function(e){e.O(0,[774,888,179],(function(){return t=6415,e(e.s=t);var t}));var t=e.O();_N_E=t}]);